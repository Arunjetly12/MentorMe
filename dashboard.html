<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MentorMe</title>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/guard.js"></script>
    <script src="js/badge-manager.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    
    <!-- Manifest & Fonts -->
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Icon -->
    <link rel="icon" type="image/png" href="https://res.cloudinary.com/dcm7c486w/image/upload/v1751105942/logo_lym1hj.jpg">
</head>
<body>
   <a href="smart-revision.html" class="smart-revision-btn" title="Smart Revision">
  <span data-lucide="book-open"></span>
</a>
    <nav class="bottom-nav">
        <a href="dashboard.html" class="nav-link active"><span data-lucide="home"></span></a>
        <a href="tracker.html" class="nav-link"><span data-lucide="bar-chart"></span></a>
        <a href="reminders.html" class="nav-link"><span data-lucide="bell"></span></a>
        <a href="motivation.html" class="nav-link"><span data-lucide="activity"></span></a>
        <a href="revision.html" class="nav-link"><span data-lucide="brain-circuit"></span></a>
        <a href="tools.html" class="nav-link"><span data-lucide="settings"></span></a>
    </nav>
           
    <div class="app-container">
        <header class="header">
            <div class="header-top">
                <h1 id="welcome-greeting">Hi, <span id="user-name">Student</span>! <span data-lucide="hand"></span></h1>
            </div>
            <p>Ready to conquer your goals today?</p>
            <div class="profile-section">
                <a href="account.html" class="account-icon-btn"><span data-lucide="user-circle-2"></span></a>
            </div>
        </header>
        
        <!-- Badge Status Indicator -->
        <!-- Removed badge-status div and its contents -->

        <div class="card quote-card">
            <h2>Motivation Boost</h2>
            <p>"The best way to predict the future is to create it."</p>
        </div>

        <!-- CONTAINER 1: Quick Tasks (for FAB button only) -->
        <div class="card timetable-card">
            <h2>Quick Tasks</h2>
            <!-- This list is ONLY for your FAB button's single tasks -->
            <ul id="quick-task-list" class="task-list"></ul>
        </div>

        <!-- CONTAINER 2: The NEW beautiful timetable preview (THIS IS THE MAIN ONE) -->
        <div class="card timetable-card-white">
            <div class="card-header">
                <h2 id="timetable-card-title">Today's Schedule</h2>
                <a href="#" id="edit-timetable-btn" class="edit-btn" style="display: none;">
                    <i data-lucide="pencil"></i> Edit
                </a>
            </div>
            <div class="table-container">
                <table id="timetable-preview-table">
                    <thead>
                        <tr>
                            <th>Subject/Chapter</th>
                            <th>Time</th>
                            <th>Duration</th>
                        </tr>
                    </thead>
                    <!-- NEW JavaScript will ONLY write to this body -->
                    <tbody id="timetable-body">
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Action Hub for Creating Timetables -->
        <div class="card templates-card">
            <h2>ðŸš€ Plan Your Day</h2>
            
            <!-- Create New Timetable Button -->
            <a href="timetable-editor.html" class="template-option create-new-option">
                <div class="template-icon">
                    <i data-lucide="plus-circle"></i>
                </div>
                <div class="template-details">
                    <h3>Create Blank Timetable</h3>
                    <p>Start from scratch and build your perfect day.</p>
                </div>
                <div class="template-arrow">
                    <i data-lucide="chevron-right"></i>
                </div>
            </a>
            
            <!-- Professional Separator -->
            <div class="separator-text"><span>OR USE A TEMPLATE</span></div>

            <div id="template-list-container">
                <!-- JavaScript will fill this with templates from Supabase -->
                <p class="loading-text">Loading templates...</p>
            </div>
        </div>
    </div>
     
    <!-- FAB button for adding single tasks -->
    <button class="fab">+</button>

    <!-- Modal for adding single tasks -->
    <div id="add-task-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Add a New Task</h2>
            <input type="text" id="task-input" placeholder="e.g., Biology: Cell Structure">
            <div class="modal-actions">
                <button id="cancel-btn">Cancel</button>
                <button id="add-btn">Add Task</button>
            </div>
        </div>
    </div>
    
    <!-- Main script for the dashboard -->
    <script src="js/script.js"></script>
</body>
</html>